{"ast":null,"code":"import _asyncToGenerator from \"D:/po/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { NgZone, inject } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class ThreeService {\n  zone = inject(NgZone);\n  initialized = false;\n  /**\n   * Performance tip: Dynamic import of Three.js to keep initial bundle small.\n   * Run rendering outside of Angular's zone to prevent unnecessary change detection.\n   */\n  initHeroScene(container) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.initialized) return;\n      _this.initialized = true;\n      const THREE = yield import('three');\n      _this.zone.runOutsideAngular(() => {\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({\n          alpha: true,\n          antialias: true\n        });\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n        container.appendChild(renderer.domElement);\n        // Lighting\n        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n        scene.add(ambientLight);\n        const pointLight = new THREE.PointLight(0x00f2ff, 1.5);\n        pointLight.position.set(20, 20, 20);\n        scene.add(pointLight);\n        // Create a Mobile Device Silhouette (Phone Frame)\n        const frameGeometry = new THREE.BoxGeometry(10, 20, 1);\n        const edges = new THREE.EdgesGeometry(frameGeometry);\n        const frameMaterial = new THREE.LineBasicMaterial({\n          color: 0x00f2ff,\n          linewidth: 2\n        });\n        const phoneFrame = new THREE.LineSegments(edges, frameMaterial);\n        scene.add(phoneFrame);\n        // Inner 'Content' Grid\n        const gridGeometry = new THREE.PlaneGeometry(8, 16, 4, 8);\n        const gridMaterial = new THREE.MeshBasicMaterial({\n          color: 0x00f2ff,\n          wireframe: true,\n          transparent: true,\n          opacity: 0.3\n        });\n        const grid = new THREE.Mesh(gridGeometry, gridMaterial);\n        grid.position.z = 0.5;\n        phoneFrame.add(grid);\n        // Floating Components (Spheres/Boxes)\n        const compGeometry = new THREE.BoxGeometry(2, 2, 2);\n        const compMaterial = new THREE.MeshPhongMaterial({\n          color: 0x00f2ff,\n          wireframe: true\n        });\n        for (let i = 0; i < 4; i++) {\n          const comp = new THREE.Mesh(compGeometry, compMaterial);\n          comp.position.set((Math.random() - 0.5) * 15, (Math.random() - 0.5) * 15, (Math.random() - 0.5) * 10);\n          scene.add(comp);\n        }\n        camera.position.z = 35;\n        // Interactive state\n        let mouseX = 0;\n        let mouseY = 0;\n        window.addEventListener('mousemove', e => {\n          mouseX = e.clientX / window.innerWidth - 0.5;\n          mouseY = e.clientY / window.innerHeight - 0.5;\n        });\n        const animate = () => {\n          requestAnimationFrame(animate);\n          // Slow consistent rotation\n          knot.rotation.x += 0.003;\n          knot.rotation.y += 0.005;\n          // Subtle mouse influence\n          knot.rotation.x += mouseY * 0.05;\n          knot.rotation.y += mouseX * 0.05;\n          renderer.render(scene, camera);\n        };\n        animate();\n        const resizeObserver = new ResizeObserver(() => {\n          const width = container.clientWidth;\n          const height = container.clientHeight;\n          camera.aspect = width / height;\n          camera.updateProjectionMatrix();\n          renderer.setSize(width, height);\n        });\n        resizeObserver.observe(container);\n      });\n    })();\n  }\n  static ɵfac = function ThreeService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ThreeService)();\n  };\n  static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ThreeService,\n    factory: ThreeService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["NgZone","inject","ThreeService","zone","initialized","initHeroScene","container","_this","_asyncToGenerator","THREE","runOutsideAngular","scene","Scene","camera","PerspectiveCamera","clientWidth","clientHeight","renderer","WebGLRenderer","alpha","antialias","setSize","setPixelRatio","Math","min","window","devicePixelRatio","appendChild","domElement","ambientLight","AmbientLight","add","pointLight","PointLight","position","set","frameGeometry","BoxGeometry","edges","EdgesGeometry","frameMaterial","LineBasicMaterial","color","linewidth","phoneFrame","LineSegments","gridGeometry","PlaneGeometry","gridMaterial","MeshBasicMaterial","wireframe","transparent","opacity","grid","Mesh","z","compGeometry","compMaterial","MeshPhongMaterial","i","comp","random","mouseX","mouseY","addEventListener","e","clientX","innerWidth","clientY","innerHeight","animate","requestAnimationFrame","knot","rotation","x","y","render","resizeObserver","ResizeObserver","width","height","aspect","updateProjectionMatrix","observe","factory","ɵfac","providedIn"],"sources":["D:\\po\\src\\app\\core\\api\\three.service.ts"],"sourcesContent":["import { Injectable, NgZone, inject } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ThreeService {\r\n    private zone = inject(NgZone);\r\n    private initialized = false;\r\n\r\n    /**\r\n     * Performance tip: Dynamic import of Three.js to keep initial bundle small.\r\n     * Run rendering outside of Angular's zone to prevent unnecessary change detection.\r\n     */\r\n    async initHeroScene(container: HTMLElement) {\r\n        if (this.initialized) return;\r\n        this.initialized = true;\r\n\r\n        const THREE = await import('three');\r\n\r\n        this.zone.runOutsideAngular(() => {\r\n            const scene = new THREE.Scene();\r\n            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\r\n            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\r\n\r\n            renderer.setSize(container.clientWidth, container.clientHeight);\r\n            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n            container.appendChild(renderer.domElement);\r\n\r\n            // Lighting\r\n            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\r\n            scene.add(ambientLight);\r\n\r\n            const pointLight = new THREE.PointLight(0x00f2ff, 1.5);\r\n            pointLight.position.set(20, 20, 20);\r\n            scene.add(pointLight);\r\n\r\n            // Create a Mobile Device Silhouette (Phone Frame)\r\n            const frameGeometry = new THREE.BoxGeometry(10, 20, 1);\r\n            const edges = new THREE.EdgesGeometry(frameGeometry);\r\n            const frameMaterial = new THREE.LineBasicMaterial({ color: 0x00f2ff, linewidth: 2 });\r\n            const phoneFrame = new THREE.LineSegments(edges, frameMaterial);\r\n            scene.add(phoneFrame);\r\n\r\n            // Inner 'Content' Grid\r\n            const gridGeometry = new THREE.PlaneGeometry(8, 16, 4, 8);\r\n            const gridMaterial = new THREE.MeshBasicMaterial({\r\n                color: 0x00f2ff,\r\n                wireframe: true,\r\n                transparent: true,\r\n                opacity: 0.3\r\n            });\r\n            const grid = new THREE.Mesh(gridGeometry, gridMaterial);\r\n            grid.position.z = 0.5;\r\n            phoneFrame.add(grid);\r\n\r\n            // Floating Components (Spheres/Boxes)\r\n            const compGeometry = new THREE.BoxGeometry(2, 2, 2);\r\n            const compMaterial = new THREE.MeshPhongMaterial({ color: 0x00f2ff, wireframe: true });\r\n\r\n            for (let i = 0; i < 4; i++) {\r\n                const comp = new THREE.Mesh(compGeometry, compMaterial);\r\n                comp.position.set(\r\n                    (Math.random() - 0.5) * 15,\r\n                    (Math.random() - 0.5) * 15,\r\n                    (Math.random() - 0.5) * 10\r\n                );\r\n                scene.add(comp);\r\n            }\r\n\r\n            camera.position.z = 35;\r\n\r\n            // Interactive state\r\n            let mouseX = 0;\r\n            let mouseY = 0;\r\n            window.addEventListener('mousemove', (e) => {\r\n                mouseX = (e.clientX / window.innerWidth) - 0.5;\r\n                mouseY = (e.clientY / window.innerHeight) - 0.5;\r\n            });\r\n\r\n            const animate = () => {\r\n                requestAnimationFrame(animate);\r\n\r\n                // Slow consistent rotation\r\n                knot.rotation.x += 0.003;\r\n                knot.rotation.y += 0.005;\r\n\r\n                // Subtle mouse influence\r\n                knot.rotation.x += mouseY * 0.05;\r\n                knot.rotation.y += mouseX * 0.05;\r\n\r\n                renderer.render(scene, camera);\r\n            };\r\n\r\n            animate();\r\n\r\n            const resizeObserver = new ResizeObserver(() => {\r\n                const width = container.clientWidth;\r\n                const height = container.clientHeight;\r\n                camera.aspect = width / height;\r\n                camera.updateProjectionMatrix();\r\n                renderer.setSize(width, height);\r\n            });\r\n            resizeObserver.observe(container);\r\n        });\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}