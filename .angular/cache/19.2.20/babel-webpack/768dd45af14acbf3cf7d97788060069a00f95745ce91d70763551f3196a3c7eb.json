{"ast":null,"code":"import _asyncToGenerator from \"D:/po/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { NgZone, inject } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class ThreeService {\n  zone = inject(NgZone);\n  initialized = false;\n  /**\n   * Performance tip: Dynamic import of Three.js to keep initial bundle small.\n   * Run rendering outside of Angular's zone to prevent unnecessary change detection.\n   */\n  initHeroScene(container) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.initialized) return;\n      _this.initialized = true;\n      const THREE = yield import('three');\n      _this.zone.runOutsideAngular(() => {\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({\n          alpha: true,\n          antialias: true\n        });\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n        container.appendChild(renderer.domElement);\n        // Lighting\n        const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\n        scene.add(ambientLight);\n        const pointLight = new THREE.PointLight(0x00f2ff, 1.5);\n        pointLight.position.set(20, 20, 20);\n        scene.add(pointLight);\n        // Create a geometric structure\n        const geometry = new THREE.TorusKnotGeometry(10, 3, 100, 16);\n        // Premium Wireframe Material\n        const material = new THREE.MeshPhongMaterial({\n          color: 0x00f2ff,\n          wireframe: true,\n          transparent: true,\n          opacity: 0.6\n        });\n        const knot = new THREE.Mesh(geometry, material);\n        scene.add(knot);\n        camera.position.z = 30;\n        // Interactive state\n        let mouseX = 0;\n        let mouseY = 0;\n        window.addEventListener('mousemove', e => {\n          mouseX = e.clientX / window.innerWidth - 0.5;\n          mouseY = e.clientY / window.innerHeight - 0.5;\n        });\n        const animate = () => {\n          requestAnimationFrame(animate);\n          // Slow consistent rotation\n          knot.rotation.x += 0.003;\n          knot.rotation.y += 0.005;\n          // Subtle mouse influence\n          knot.rotation.x += mouseY * 0.05;\n          knot.rotation.y += mouseX * 0.05;\n          renderer.render(scene, camera);\n        };\n        animate();\n        const resizeObserver = new ResizeObserver(() => {\n          const width = container.clientWidth;\n          const height = container.clientHeight;\n          camera.aspect = width / height;\n          camera.updateProjectionMatrix();\n          renderer.setSize(width, height);\n        });\n        resizeObserver.observe(container);\n      });\n    })();\n  }\n  static ɵfac = function ThreeService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ThreeService)();\n  };\n  static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ThreeService,\n    factory: ThreeService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["NgZone","inject","ThreeService","zone","initialized","initHeroScene","container","_this","_asyncToGenerator","THREE","runOutsideAngular","scene","Scene","camera","PerspectiveCamera","clientWidth","clientHeight","renderer","WebGLRenderer","alpha","antialias","setSize","setPixelRatio","Math","min","window","devicePixelRatio","appendChild","domElement","ambientLight","AmbientLight","add","pointLight","PointLight","position","set","geometry","TorusKnotGeometry","material","MeshPhongMaterial","color","wireframe","transparent","opacity","knot","Mesh","z","mouseX","mouseY","addEventListener","e","clientX","innerWidth","clientY","innerHeight","animate","requestAnimationFrame","rotation","x","y","render","resizeObserver","ResizeObserver","width","height","aspect","updateProjectionMatrix","observe","factory","ɵfac","providedIn"],"sources":["D:\\po\\src\\app\\core\\api\\three.service.ts"],"sourcesContent":["import { Injectable, NgZone, inject } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ThreeService {\r\n    private zone = inject(NgZone);\r\n    private initialized = false;\r\n\r\n    /**\r\n     * Performance tip: Dynamic import of Three.js to keep initial bundle small.\r\n     * Run rendering outside of Angular's zone to prevent unnecessary change detection.\r\n     */\r\n    async initHeroScene(container: HTMLElement) {\r\n        if (this.initialized) return;\r\n        this.initialized = true;\r\n\r\n        const THREE = await import('three');\r\n\r\n        this.zone.runOutsideAngular(() => {\r\n            const scene = new THREE.Scene();\r\n            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\r\n            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\r\n\r\n            renderer.setSize(container.clientWidth, container.clientHeight);\r\n            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n            container.appendChild(renderer.domElement);\r\n\r\n            // Lighting\r\n            const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);\r\n            scene.add(ambientLight);\r\n\r\n            const pointLight = new THREE.PointLight(0x00f2ff, 1.5);\r\n            pointLight.position.set(20, 20, 20);\r\n            scene.add(pointLight);\r\n\r\n            // Create a geometric structure\r\n            const geometry = new THREE.TorusKnotGeometry(10, 3, 100, 16);\r\n\r\n            // Premium Wireframe Material\r\n            const material = new THREE.MeshPhongMaterial({\r\n                color: 0x00f2ff,\r\n                wireframe: true,\r\n                transparent: true,\r\n                opacity: 0.6\r\n            });\r\n\r\n            const knot = new THREE.Mesh(geometry, material);\r\n            scene.add(knot);\r\n\r\n            camera.position.z = 30;\r\n\r\n            // Interactive state\r\n            let mouseX = 0;\r\n            let mouseY = 0;\r\n            window.addEventListener('mousemove', (e) => {\r\n                mouseX = (e.clientX / window.innerWidth) - 0.5;\r\n                mouseY = (e.clientY / window.innerHeight) - 0.5;\r\n            });\r\n\r\n            const animate = () => {\r\n                requestAnimationFrame(animate);\r\n\r\n                // Slow consistent rotation\r\n                knot.rotation.x += 0.003;\r\n                knot.rotation.y += 0.005;\r\n\r\n                // Subtle mouse influence\r\n                knot.rotation.x += mouseY * 0.05;\r\n                knot.rotation.y += mouseX * 0.05;\r\n\r\n                renderer.render(scene, camera);\r\n            };\r\n\r\n            animate();\r\n\r\n            const resizeObserver = new ResizeObserver(() => {\r\n                const width = container.clientWidth;\r\n                const height = container.clientHeight;\r\n                camera.aspect = width / height;\r\n                camera.updateProjectionMatrix();\r\n                renderer.setSize(width, height);\r\n            });\r\n            resizeObserver.observe(container);\r\n        });\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}