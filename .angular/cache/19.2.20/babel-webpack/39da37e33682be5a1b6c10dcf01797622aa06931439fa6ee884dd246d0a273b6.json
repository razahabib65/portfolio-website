{"ast":null,"code":"import _asyncToGenerator from \"D:/po/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { NgZone, inject } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class ThreeService {\n  zone = inject(NgZone);\n  initialized = false;\n  /**\n   * Performance tip: Dynamic import of Three.js to keep initial bundle small.\n   * Run rendering outside of Angular's zone to prevent unnecessary change detection.\n   */\n  initHeroScene(container) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.initialized) return;\n      _this.initialized = true;\n      // Dynamic import to keep main bundle light\n      const THREE = yield import('three');\n      _this.zone.runOutsideAngular(() => {\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({\n          alpha: true,\n          antialias: true\n        });\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n        container.appendChild(renderer.domElement);\n        // Create a geometric structure (Torus Knot fits the Digital Architect vibe)\n        const geometry = new THREE.TorusKnotGeometry(10, 3, 100, 16);\n        const material = new THREE.MeshNormalMaterial({\n          wireframe: true\n        });\n        const knot = new THREE.Mesh(geometry, material);\n        scene.add(knot);\n        camera.position.z = 30;\n        const animate = () => {\n          requestAnimationFrame(animate);\n          knot.rotation.x += 0.005;\n          knot.rotation.y += 0.01;\n          renderer.render(scene, camera);\n        };\n        animate();\n        window.addEventListener('resize', () => {\n          camera.aspect = container.clientWidth / container.clientHeight;\n          camera.updateProjectionMatrix();\n          renderer.setSize(container.clientWidth, container.clientHeight);\n        });\n      });\n    })();\n  }\n  static ɵfac = function ThreeService_Factory(__ngFactoryType__) {\n    return new (__ngFactoryType__ || ThreeService)();\n  };\n  static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: ThreeService,\n    factory: ThreeService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["NgZone","inject","ThreeService","zone","initialized","initHeroScene","container","_this","_asyncToGenerator","THREE","runOutsideAngular","scene","Scene","camera","PerspectiveCamera","clientWidth","clientHeight","renderer","WebGLRenderer","alpha","antialias","setSize","setPixelRatio","Math","min","window","devicePixelRatio","appendChild","domElement","geometry","TorusKnotGeometry","material","MeshNormalMaterial","wireframe","knot","Mesh","add","position","z","animate","requestAnimationFrame","rotation","x","y","render","addEventListener","aspect","updateProjectionMatrix","factory","ɵfac","providedIn"],"sources":["D:\\po\\src\\app\\core\\api\\three.service.ts"],"sourcesContent":["import { Injectable, NgZone, inject } from '@angular/core';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class ThreeService {\r\n    private zone = inject(NgZone);\r\n    private initialized = false;\r\n\r\n    /**\r\n     * Performance tip: Dynamic import of Three.js to keep initial bundle small.\r\n     * Run rendering outside of Angular's zone to prevent unnecessary change detection.\r\n     */\r\n    async initHeroScene(container: HTMLElement) {\r\n        if (this.initialized) return;\r\n        this.initialized = true;\r\n\r\n        // Dynamic import to keep main bundle light\r\n        const THREE = await import('three');\r\n\r\n        this.zone.runOutsideAngular(() => {\r\n            const scene = new THREE.Scene();\r\n            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\r\n            const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\r\n\r\n            renderer.setSize(container.clientWidth, container.clientHeight);\r\n            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\r\n            container.appendChild(renderer.domElement);\r\n\r\n            // Create a geometric structure (Torus Knot fits the Digital Architect vibe)\r\n            const geometry = new THREE.TorusKnotGeometry(10, 3, 100, 16);\r\n            const material = new THREE.MeshNormalMaterial({ wireframe: true });\r\n            const knot = new THREE.Mesh(geometry, material);\r\n            scene.add(knot);\r\n\r\n            camera.position.z = 30;\r\n\r\n            const animate = () => {\r\n                requestAnimationFrame(animate);\r\n                knot.rotation.x += 0.005;\r\n                knot.rotation.y += 0.01;\r\n                renderer.render(scene, camera);\r\n            };\r\n\r\n            animate();\r\n\r\n            window.addEventListener('resize', () => {\r\n                camera.aspect = container.clientWidth / container.clientHeight;\r\n                camera.updateProjectionMatrix();\r\n                renderer.setSize(container.clientWidth, container.clientHeight);\r\n            });\r\n        });\r\n    }\r\n}\r\n"],"mappings":";AAAA,SAAqBA,MAAM,EAAEC,MAAM,QAAQ,eAAe;;AAG1D,OAAM,MAAOC,YAAY;EACbC,IAAI,GAAGF,MAAM,CAACD,MAAM,CAAC;EACrBI,WAAW,GAAG,KAAK;EAE3B;;;;EAIMC,aAAaA,CAACC,SAAsB;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACtC,IAAID,KAAI,CAACH,WAAW,EAAE;MACtBG,KAAI,CAACH,WAAW,GAAG,IAAI;MAEvB;MACA,MAAMK,KAAK,SAAS,MAAM,CAAC,OAAO,CAAC;MAEnCF,KAAI,CAACJ,IAAI,CAACO,iBAAiB,CAAC,MAAK;QAC7B,MAAMC,KAAK,GAAG,IAAIF,KAAK,CAACG,KAAK,EAAE;QAC/B,MAAMC,MAAM,GAAG,IAAIJ,KAAK,CAACK,iBAAiB,CAAC,EAAE,EAAER,SAAS,CAACS,WAAW,GAAGT,SAAS,CAACU,YAAY,EAAE,GAAG,EAAE,IAAI,CAAC;QACzG,MAAMC,QAAQ,GAAG,IAAIR,KAAK,CAACS,aAAa,CAAC;UAAEC,KAAK,EAAE,IAAI;UAAEC,SAAS,EAAE;QAAI,CAAE,CAAC;QAE1EH,QAAQ,CAACI,OAAO,CAACf,SAAS,CAACS,WAAW,EAAET,SAAS,CAACU,YAAY,CAAC;QAC/DC,QAAQ,CAACK,aAAa,CAACC,IAAI,CAACC,GAAG,CAACC,MAAM,CAACC,gBAAgB,EAAE,CAAC,CAAC,CAAC;QAC5DpB,SAAS,CAACqB,WAAW,CAACV,QAAQ,CAACW,UAAU,CAAC;QAE1C;QACA,MAAMC,QAAQ,GAAG,IAAIpB,KAAK,CAACqB,iBAAiB,CAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,CAAC;QAC5D,MAAMC,QAAQ,GAAG,IAAItB,KAAK,CAACuB,kBAAkB,CAAC;UAAEC,SAAS,EAAE;QAAI,CAAE,CAAC;QAClE,MAAMC,IAAI,GAAG,IAAIzB,KAAK,CAAC0B,IAAI,CAACN,QAAQ,EAAEE,QAAQ,CAAC;QAC/CpB,KAAK,CAACyB,GAAG,CAACF,IAAI,CAAC;QAEfrB,MAAM,CAACwB,QAAQ,CAACC,CAAC,GAAG,EAAE;QAEtB,MAAMC,OAAO,GAAGA,CAAA,KAAK;UACjBC,qBAAqB,CAACD,OAAO,CAAC;UAC9BL,IAAI,CAACO,QAAQ,CAACC,CAAC,IAAI,KAAK;UACxBR,IAAI,CAACO,QAAQ,CAACE,CAAC,IAAI,IAAI;UACvB1B,QAAQ,CAAC2B,MAAM,CAACjC,KAAK,EAAEE,MAAM,CAAC;QAClC,CAAC;QAED0B,OAAO,EAAE;QAETd,MAAM,CAACoB,gBAAgB,CAAC,QAAQ,EAAE,MAAK;UACnChC,MAAM,CAACiC,MAAM,GAAGxC,SAAS,CAACS,WAAW,GAAGT,SAAS,CAACU,YAAY;UAC9DH,MAAM,CAACkC,sBAAsB,EAAE;UAC/B9B,QAAQ,CAACI,OAAO,CAACf,SAAS,CAACS,WAAW,EAAET,SAAS,CAACU,YAAY,CAAC;QACnE,CAAC,CAAC;MACN,CAAC,CAAC;IAAC;EACP;;qCA/CSd,YAAY;EAAA;;WAAZA,YAAY;IAAA8C,OAAA,EAAZ9C,YAAY,CAAA+C,IAAA;IAAAC,UAAA,EADC;EAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}